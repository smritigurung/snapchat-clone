(this["webpackJsonpsnapchat-clone"]=this["webpackJsonpsnapchat-clone"]||[]).push([[0],{105:function(e,a,c){},106:function(e,a,c){},107:function(e,a,c){},108:function(e,a,c){},109:function(e,a,c){},110:function(e,a,c){},111:function(e,a,c){},112:function(e,a,c){"use strict";c.r(a);var t=c(2),s=c.n(t),n=c(30),i=c.n(n),r=(c(91),c(62)),d=c.n(r),l=c(48),j=c.n(l),o=c(13),b=c(38),m=Object(b.b)({name:"camera",initialState:{cameraImage:null},reducers:{setCameraImage:function(e,a){e.cameraImage=a.payload},resetCameraImage:function(e){e.cameraImage=null}}}),u=m.actions,h=u.setCameraImage,O=u.resetCameraImage,f=function(e){return e.camera.cameraImage},p=m.reducer,_=c(11),x=(c(95),c(3)),v={width:250,height:400,facingMode:"user"};var g=function(){var e=Object(t.useRef)(null),a=Object(o.b)(),c=Object(_.f)(),s=Object(t.useCallback)((function(){var t=e.current.getScreenshot();a(h(t)),c.push("/preview")}),[e]);return Object(x.jsxs)("div",{className:"webcamCapture",children:[Object(x.jsx)(d.a,{audio:!1,height:v.height,ref:e,screenshotFormat:"image/jpeg",width:v.width,videoConstraints:v}),Object(x.jsx)(j.a,{className:"webcamCapture__button",onClick:s,fontSize:"large"})]})},N=(c(99),c(67)),w=c.n(N),y=c(68),I=c.n(y),C=c(69),S=c.n(C),k=c(70),U=c.n(k),A=c(71),P=c.n(A),F=c(72),B=c.n(F),z=c(73),R=c.n(z),D=c(74),E=c.n(D),W=c(75),M=c.n(W),T=c(128),L=c(35),K=L.a.initializeApp({apiKey:"AIzaSyBXnSj8_whRD2LKkI-uXwEZKSRnBYQ66Wk",authDomain:"snapchat-clone-37497.firebaseapp.com",projectId:"snapchat-clone-37497",storageBucket:"snapchat-clone-37497.appspot.com",messagingSenderId:"717367110986",appId:"1:717367110986:web:1ce331f206f610d7a525b3"}).firestore(),V=L.a.auth(),q=L.a.storage(),J=new L.a.auth.GoogleAuthProvider,X=Object(b.b)({name:"app",initialState:{user:null,selectedImage:null},reducers:{login:function(e,a){e.user=a.payload},logout:function(e){e.user=null},selectImage:function(e,a){e.selectedImage=a.payload},resetImage:function(e){e.selectedImage=null}}}),G=X.actions,Q=G.login,Y=G.logout,Z=G.selectImage,$=(G.resetImage,function(e){return e.app.user}),H=function(e){return e.app.selectedImage},ee=X.reducer;var ae=function(){var e=Object(o.c)(f),a=Object(_.f)(),c=Object(o.b)(),s=Object(o.c)($);return Object(t.useEffect)((function(){e||a.replace("/")}),[e,a]),Object(x.jsxs)("div",{className:"preview",children:[Object(x.jsx)(w.a,{onClick:function(){c(O())},className:"preview__close"}),Object(x.jsxs)("div",{className:"preview__toolbarRight",children:[Object(x.jsx)(I.a,{}),Object(x.jsx)(S.a,{}),Object(x.jsx)(U.a,{}),Object(x.jsx)(P.a,{}),Object(x.jsx)(B.a,{}),Object(x.jsx)(R.a,{}),Object(x.jsx)(E.a,{})]}),Object(x.jsx)("img",{src:e,alt:""}),Object(x.jsxs)("div",{onClick:function(){var c=Object(T.a)();q.ref("posts/".concat(c)).putString(e,"data_url").on("state_changed",null,(function(e){console.log(e)}),(function(){q.ref("posts").child(c).getDownloadURL().then((function(e){K.collection("posts").add({imageUrl:e,username:s.username,read:!1,profilePic:s.profilePic,timestamp:L.a.firestore.FieldValue.serverTimestamp()}),a.replace("/chats")}))}))},className:"preview__footer",children:[Object(x.jsx)("h2",{children:"Send Now"}),Object(x.jsx)(M.a,{fontSize:"small",className:"preview__sendIcon"})]})]})},ce=c(20),te=c(31),se=c(129),ne=(c(105),c(52)),ie=c.n(ne),re=c(77),de=c.n(re),le=(c(106),c(76)),je=c.n(le),oe=c(83);var be=function(e){var a=e.id,c=e.username,t=e.timestamp,s=e.read,n=e.imageUrl,i=e.profilePic,r=Object(o.b)(),d=Object(_.f)();return Object(x.jsxs)("div",{onClick:function(){s||(r(Z(n)),K.collection("posts").doc(a).set({read:!0},{merge:!0}),d.push("/chats/view"))},className:"chat",children:[Object(x.jsx)(se.a,{className:"chat__avatar",src:i}),Object(x.jsxs)("div",{className:"chat__info",children:[Object(x.jsx)("h4",{children:c}),Object(x.jsxs)("p",{children:[!s&&"Tap to view -"," ",Object(x.jsx)(oe.a,{date:new Date(null===t||void 0===t?void 0:t.toDate()).toUTCString()})]})]}),!s&&Object(x.jsx)(je.a,{className:"chat__readIcon"})]})},me=c(53),ue=c.n(me);var he=function(){var e=Object(t.useState)([]),a=Object(te.a)(e,2),c=a[0],s=a[1],n=Object(o.c)($),i=Object(o.b)(),r=Object(_.f)();return Object(t.useEffect)((function(){K.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),Object(x.jsxs)("div",{className:"chats",children:[Object(x.jsxs)("div",{className:"chats__header",children:[Object(x.jsx)(se.a,{src:n.profilePic,onClick:function(){return V.signOut()},className:"chats__avatar"}),Object(x.jsxs)("div",{className:"chats__search",children:[Object(x.jsx)(ie.a,{className:"chats__searchIcon"}),Object(x.jsx)("input",{placeholder:"Friends",type:"text"})]}),Object(x.jsx)("div",{className:"friends__list",children:Object(x.jsx)(ce.b,{to:"/friends/list",children:Object(x.jsx)(ue.a,{className:"friends__list"})})}),Object(x.jsx)(de.a,{className:"chats__chatIcon"})]}),Object(x.jsx)("div",{className:"chats__posts",children:c.map((function(e){var a=e.id,c=e.data,t=c.profilePic,s=c.username,n=c.timestamp,i=c.imageUrl,r=c.read;return Object(x.jsx)(be,{id:a,username:s,timestamp:n,imageUrl:i,read:r,profilePic:t},a)}))}),Object(x.jsx)(j.a,{className:"chats__takePicIcon",onClick:function(){i(O()),r.push("/")},fontSize:"large"})]})},Oe=(c(107),c(108),c(78));var fe=function(){var e=Object(o.c)(H),a=Object(_.f)();Object(t.useEffect)((function(){e||c()}),[e]);var c=function(){a.replace("./chats")};return Object(x.jsxs)("div",{className:"chatView",children:[Object(x.jsx)("img",{src:e,onClick:c,alt:""}),Object(x.jsx)("div",{className:"chatView__timer",children:Object(x.jsx)(Oe.CountdownCircleTimer,{isPlaying:!0,duration:10,strokeWidth:6,size:50,colors:[["#004777",.33],["#F7B801",.33],["#A30000",.33]],children:function(e){var a=e.remainingTime;return 0===a&&c(),a}})})]})},pe=(c(109),c(127));var _e=function(){var e=Object(o.b)();return Object(x.jsx)("div",{className:"login",children:Object(x.jsxs)("div",{className:"login__container",children:[Object(x.jsx)("img",{src:"https://scx2.b-cdn.net/gfx/news/2017/1-snapchat.jpg",alt:""}),Object(x.jsx)(pe.a,{variant:"outlined",onClick:function(){V.signInWithPopup(J).then((function(a){e(Q({username:a.user.displayName,profilePic:a.user.photoURL,id:a.user.uid}))})).catch((function(e){return alert(e.message)}))},children:"Sign in"})]})})},xe=c(54),ve=c.n(xe),ge=c(79),Ne=c.n(ge),we=(c(110),c(80)),ye=c.n(we),Ie=c(81),Ce=c.n(Ie),Se=[{id:"1",Name:"Alisha",Username:"alisha"},{id:"2",Name:"Allyy",Username:"allycho"},{id:"3",Name:"Amy",Username:"amy1"},{id:"4",Name:"Austin",Username:"austin"},{id:"5",Name:"Ben",Username:"ben"},{id:"6",Name:"Bob",Username:"bob"},{id:"7",Name:"Christina",Username:"cristina"},{id:"8",Name:"Ciara",Username:"cciara"}];var ke=function(){return Object(x.jsxs)("div",{className:"friends__list__page",children:[Object(x.jsxs)("div",{className:"friends__header",children:[Object(x.jsx)(ce.b,{to:"/",children:Object(x.jsx)(ve.a,{className:"arrow__down"})}),Object(x.jsx)("span",{className:"friends__heading",children:"Friends"}),Object(x.jsx)(Ne.a,{})]}),Object(x.jsxs)("div",{className:"friends__search",children:[Object(x.jsx)(ie.a,{className:"friends__searchIcon"}),Object(x.jsx)("input",{placeholder:"Find Friends",type:"text"})]}),Object(x.jsxs)("div",{className:"my__stories",children:[Object(x.jsx)("div",{className:"stories__title",children:"My Stories"}),Object(x.jsx)(ce.b,{to:"/",className:"add__story__link",children:Object(x.jsxs)("section",{className:"add__stories",children:[Object(x.jsx)(ye.a,{className:"camera__icon"})," ",Object(x.jsx)("span",{children:"Add to My Story"})]})})]}),Object(x.jsxs)("div",{className:"my__friends",children:[Object(x.jsx)("div",{class:"my__friends__title",children:"My Friends"}),Object(x.jsx)(ce.b,{to:"/friends/add",className:"add__friend__link",children:Object(x.jsxs)("div",{className:"add__friends",children:[Object(x.jsx)(Ce.a,{className:"add__friend__icon"})," ",Object(x.jsx)("span",{children:"Add Friends"})]})}),Object(x.jsxs)("div",{className:"friends__section",children:[" ",Object(x.jsx)("div",{className:"friends__container",children:Se.map((function(e){return Object(x.jsxs)("div",{class:"friend__row",children:[Object(x.jsx)(se.a,{className:"friend__avatar"})," ",e.Name]})}))})]})]})]})},Ue=(c(111),c(82)),Ae=c.n(Ue);var Pe=function(){var e=Object(t.useState)(""),a=Object(te.a)(e,2),c=a[0],s=a[1],n=Object(t.useState)(""),i=Object(te.a)(n,2),r=i[0],d=i[1],l=Object(_.f)();return Object(x.jsxs)("div",{className:"add__friends__page",children:[Object(x.jsxs)("div",{className:"add__friends__header",children:[Object(x.jsx)(ce.b,{to:"/",children:Object(x.jsx)(ve.a,{className:"arrow__down"})}),Object(x.jsx)("span",{className:"add__friends__heading",children:"Add Friends"}),Object(x.jsx)(ce.b,{to:"/friends/list",children:Object(x.jsx)(ue.a,{style:{color:"black"}})})]}),Object(x.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var a=Object(T.a)().slice(0,8);Se.push({id:a,Name:c,Username:r}),l.push("/friends/list")}(e)},children:[Object(x.jsx)("div",{className:"add__form__name",children:Object(x.jsx)("input",{required:!0,placeholder:"Name",type:"text",onChange:function(e){return s(e.target.value)}})}),Object(x.jsx)("div",{className:"add__form__username",children:Object(x.jsx)("input",{placeholder:"Username",type:"text",onChange:function(e){return d(e.target.value)},required:!0})}),Object(x.jsx)("div",{className:"friend__btn",children:Object(x.jsxs)("button",{className:"add__friend__btn",children:[Object(x.jsx)(Ae.a,{style:{fontSize:"15px"}}),Object(x.jsx)("span",{style:{fontWeight:"bold",cursor:"pointer"},children:"Add"})]})})]})]})};var Fe=function(){var e=Object(o.c)($),a=Object(o.b)();return Object(t.useEffect)((function(){V.onAuthStateChanged((function(e){a(e?Q({username:e.displayName,profilePic:e.photoURL,id:e.uid}):Y())}))}),[]),Object(x.jsx)("div",{className:"app",children:Object(x.jsx)(ce.a,{basename:"/snapchat-clone/",children:e?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{className:"app__logo",src:"https://lakeridgenewsonline.com/wp-content/uploads/2020/04/snapchat.jpg",alt:""}),Object(x.jsx)("div",{className:"app__body",children:Object(x.jsx)("div",{className:"app__bodyBackground",children:Object(x.jsxs)(_.c,{children:[Object(x.jsx)(_.a,{path:"/chats/view",children:Object(x.jsx)(fe,{})}),Object(x.jsx)(_.a,{path:"/chats",children:Object(x.jsx)(he,{})}),Object(x.jsx)(_.a,{path:"/preview",children:Object(x.jsx)(ae,{})}),Object(x.jsx)(_.a,{path:"/friends/list",children:Object(x.jsx)(ke,{})}),Object(x.jsx)(_.a,{path:"/friends/add",children:Object(x.jsx)(Pe,{})}),Object(x.jsx)(_.a,{exact:!0,path:"/",children:Object(x.jsx)(g,{})})]})})})]}):Object(x.jsx)(_e,{})})})},Be=Object(b.a)({reducer:{app:ee,camera:p}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(o.a,{store:Be,children:Object(x.jsx)(Fe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e,a,c){},95:function(e,a,c){},99:function(e,a,c){}},[[112,1,2]]]);
//# sourceMappingURL=main.4e1d24c5.chunk.js.map